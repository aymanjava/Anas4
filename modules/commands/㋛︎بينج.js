const axios = require("axios");

module.exports.config = {
  name: "Ø¨ÙŠÙ†Ø¬",
  version: "10.0.0",
  hasPermssion: 2, // Ù…Ø®ØµØµ Ù„Ù„ØªÙˆØ¨ Ø£ÙŠÙ…Ù† ÙÙ‚Ø·
  credits: "Ayman",
  description: "Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¨Ø¶ Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆØ§Ù„ÙŠØ¯ÙˆÙŠ",
  commandCategory: "Ø§Ù„Ù…Ø·ÙˆØ±",
  usages: "",
  cooldowns: 2
};

// --- Ø§Ù„Ù€Ù†Ù€Ø¸Ø§Ù… Ø§Ù„Ù€ØªÙ€Ù„Ù‚Ø§Ø¦ÙŠ (ÙŠÙ€Ø¹Ù…Ù„ Ø¯Ø§Ø¦Ù€Ù…Ù€Ø§Ù‹ ÙÙŠ Ø§Ù„Ù€Ø®Ù€Ù„Ù€ÙÙ€ÙŠØ©) ---
if (!global.imperialAutoPing) {
    global.imperialAutoPing = setInterval(async () => {
        try {
            await axios.get("https://anas4-1.onrender.com");
            // Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØµØ§Ù…Øª Ù„Ù„Ù‡ÙŠØ¨Ø©
            console.log("â—ˆ [ Ù†Ù€Ø¨Ø¶ Ù…Ù€Ù„ÙƒÙ€ÙŠ ] â† ØªÙ€Ù… ØªÙ€Ø­Ø¯ÙŠØ« Ø§Ù„Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.");
        } catch (e) {
            console.log("â—ˆ [ ØªÙ€Ù†Ù€Ø¨ÙŠÙ‡ ] â† Ø§Ù„Ù€Ø±Ø§Ø¨Ø· Ù„Ø§ ÙŠÙ€Ø³ØªØ¬ÙŠØ¨ Ø­Ø§Ù„ÙŠØ§Ù‹.");
        }
    }, 120000); // ÙƒÙ€Ù„ Ø¯Ù‚Ù€ÙŠÙ‚ØªÙŠÙ† (120 Ø«Ø§Ù†ÙŠØ©)
}

module.exports.run = async ({ api, event, args }) => {
  const { threadID, messageID, senderID } = event;
  const isTop = global.config.ADMINBOT.includes(senderID);

  if (!isTop) return; // Ø§Ù„Ù€ØªÙˆØ¨ Ø£ÙŠÙ€Ù…Ù† ÙÙ€Ù‚Ø· ÙŠÙ€Ù…ÙƒÙ†Ù‡ Ø·Ù€Ù„Ø¨ Ø§Ù„Ù€ØªÙ‚Ø±ÙŠØ±

  try {
    const start = Date.now();
    await axios.get("https://anas4-1.onrender.com");
    const end = Date.now();
    const pingTime = end - start;

    return api.sendMessage(`â—ˆ â”€â”€â”€ã€ Ø§Ù„Ù€Ù†Ù€Ø¨Ù€Ø¶ Ø§Ù„Ø¥Ù…Ù€Ø¨Ù€Ø±Ø§Ø·Ù€ÙˆØ±ÙŠ ã€â”€â”€â”€ â—ˆ\n\nğŸ“¡ Ø­Ù€Ø§Ù„Ø© Ø§Ù„Ù€Ø±Ø§Ø¨Ø·: Ù…Ù€ØªØµÙ„ ÙˆÙ†Ù€Ø´Ø· âœ…\nâ±ï¸ Ø³Ù€Ø±Ø¹Ø© Ø§Ù„Ø§Ø³Ù€ØªØ¬Ø§Ø¨Ø©: ${pingTime}ms\nâš™ï¸ Ø§Ù„Ù€Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ØªÙ€Ù„Ù‚Ø§Ø¦ÙŠ: ÙŠÙ€Ø¹Ù€Ù…Ù„ ÙƒÙ€Ù„ Ø¯Ù‚Ù€ÙŠÙ€Ù‚Ù€ØªÙ€ÙŠÙ†.\n\nâ”‚â†â€º Ø§Ù„Ù€Ù…Ù€Ø´Ø±Ù: Ø§Ù„Ù€ØªÙ€ÙˆØ¨ Ø§ÙŠÙ€Ù…Ù€Ù† ğŸ‘‘\nâ—ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—ˆ`, threadID, messageID);
  } catch (err) {
    return api.sendMessage(`â—ˆ â”€â”€â”€ã€ ØªÙ€Ù†Ù€Ø¨Ù€ÙŠÙ€Ù‡ Ù…Ù€Ù„Ù€ÙƒÙ€ÙŠ ã€â”€â”€â”€ â—ˆ\n\nâŒ Ø³ÙŠØ¯ÙŠØŒ Ø§Ù„Ù€Ø±Ø§Ø¨Ø· Ù„Ø§ ÙŠÙ€Ø³ØªØ¬ÙŠØ¨ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù„Ù€Ù„Ù€Ù†Ù€Ø¨Ø¶ Ø§Ù„Ù€ÙŠØ¯ÙˆÙŠ.\nâš ï¸ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…ØªÙˆÙ‚ÙØ§Ù‹ Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„.\n\nâ—ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—ˆ`, threadID, messageID);
  }
};
