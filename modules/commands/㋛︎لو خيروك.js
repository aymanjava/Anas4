module.exports.config = {
  name: "ููุฎูุฑูู",
  version: "2.0.0",
  hasPermssion: 0,
  credits: "Ayman",
  description: "ูุนุจุฉ ูู ุฎูุฑูู ุงููุทูุฑุฉ ูุน ููุงูุขุช ุงูุฎุฒููุฉ ุงููุฑูุฒูุฉ",
  commandCategory: "ุงูุนุงุจ",
  usages: " ",
  cooldowns: 2,
};

module.exports.run = async function({ api, event, Currencies }) {
  const { threadID, messageID, senderID } = event;
  const isTop = global.config.ADMINBOT.includes(senderID);

  // ูุงุฆูุฉ ุงูุฃุณุฆูุฉ ุงูุถุฎูุฉ
  const challenges = [
    "ูู ุฎูุฑูู ุชููู ุนูุฏู ูููุณ ูุซูุฑ ูุฑุงุณู ุญูุงุฑุ",
    "ูู ุฎูุฑูู ุจูู ุงูุนูุด ูุญุฏู ูู ุฌุฒูุฑุฉ ููุนุฒูุฉ ุจุฑูุงููุฉ ุฃู ูู ููุงู ูุฏูู ูุน ุฃุตุฏูุงุฆูุ",
    "ูู ุฎูุฑูู ุจูู ููุฏุงู ุฐุงูุฑุชู ูุงูุนูุด ูุน ุฃููู ุฃู ุจูุงุก ุฐุงูุฑุชู ูุงูุนูุด ูุญูุฏุงูุ",
    "ูู ุฎูุฑูู ุจูู ุชูุงูู ุงูุฎุถุงุฑ ูุงููุงููุฉ ุทูุงู ุญูุงุชู ุฃู ุชูุงูู ุงููุญูู ููุทุ",
    "ูู ุฎูุฑูู ุจูู ุฑุคูุฉ ุงูุฃุดุจุงุญ ููุท ุฃู ุณูุงุน ุตูุชูุง ููุทุ",
    "ูู ุฎูุฑูู ุจูู ุณูุงุน ุฃููุงุฑ ุงููุงุณ ุฃู ุงูุนูุฏุฉ ุจุงูุฒูู ููุฎููุ",
    "ูู ุฎูุฑูู ุจูู ุงููุฏุฑุฉ ุนูู ุงูุงุฎุชูุงุก ุฃู ุงููุฏุฑุฉ ุนูู ุงูุทูุฑุงูุ",
    "ูู ุฎูุฑูู ุจูู 5 ููุงููู ุฏููุงุฑ ุฃู 5 ููุงููู ูุญุธุฉ ุณุนุงุฏุฉ ุญููููุฉุ",
    "ูู ุฎูุฑูู ุจูู ุงูุชูุงู ุณุฑุนุฉ ุงูููุฏ ุฃู ุฏูุงุก ุงูุซุนูุจุ",
    "ูู ุฎูุฑูู ุจูู ุนูู ุจุฑุงุชุจ ุนุงูู ูุง ุชุญุจู ุฃู ุนูู ุชุญุจู ุจุฑุงุชุจ ุถุนููุ",
    "ูู ุฎูุฑูู ุจูู ุงูุณูุฑ ูุฅูุทุงููุง ุฃู ุงูุณูุฑ ูููุงุจุงูุ",
    "ูู ุฎูุฑูู ุฃู ุชุตุจุญ ุจุทูุงู ุฎุงุฑูุงู ุณุฑูุงู ุฃู ูุดููุฑุงู ุฌุฏุงู ุจูุง ูููุ",
    "ูู ุฎูุฑูู ุจูู ุงูุนูุด ูู ุงููุณุชูุจู ุงููุชุทูุฑ ุฃู ุงูุนุตุฑ ุงูุฃูุฏูุณู ุงูุฐูุจูุ",
    "ูู ุฎูุฑูู ุจูู ุงูุญุจ ุงูุญูููู ุฃู ุงูุซุฑุงุก ุงููุงุญุดุ",
    "ูู ุฎูุฑูู ุฃู ุชุนูุด ุจุฏูู ุฅูุชุฑูุช ููุฏุฉ ุณูุฉ ุฃู ุจุฏูู ุฃุตุฏูุงุก ููุฏุฉ ุณูุฉุ"
  ];

  const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];
  
  // ููุงูุฃุฉ ุงูุชูููุฑ (ูุธุงู ุงูุฎุฒููุฉ ุงููุฑูุฒูุฉ)
  const reward = isTop ? 1000 : 100; // ุงููุฏูุฑ ูุญุตู ุนูู ููุงูุฃุฉ ุฃูุจุฑ
  await Currencies.increaseMoney(senderID, reward);

  const msg = `โ โโโใ ููู ุฎูููุฑูู ุงููููููููุฉ ใโโโ โ\n\n` +
              `๐ค ${randomChallenge}\n\n` +
              `๐ฐ ููุงูุฃุฉ ุงููุดุงุฑูุฉ: ${reward}$ (ุฃุถููุช ูุฑุตูุฏู ุงูููุญุฏ)\n` +
              `โ โโโใ ุจูุฅุฏุงุฑุฉ ุงููุชููุจ ุงููููู ๐ ใโโโ โ`;

  return api.sendMessage(msg, threadID, messageID);
};

// ูุธุงู ุงููุณุงุนุฏุฉ ุงูุชููุงุฆู (Event)
module.exports.handleEvent = function ({ api, event }) {
  const { threadID, messageID, body } = event;
  if (!body || body.indexOf("ููู ุงูุนุจ ูู ุฎูุฑูู") != 0) return;

  return api.sendMessage(`โ โโใ ููุนููููููุงุช ใโโ โ\n\nโฏ ุงูุฃูุฑ: ููุฎูุฑูู\nโฏ ุงููุธููุฉ: ูุทุฑุญ ุนููู ุชุญุฏู ุตุนุจ ููููุญู ูุงูุงู.\nโฏ ุงูุฑุณูู: ูุฌุงููุฉ ุญุงููุงู.\n\nโโโบ ุงููููุฏูุฑ: ุงููุชููุจ ุงููููู ๐`, threadID, messageID);
};
