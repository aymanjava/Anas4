module.exports.config = {
  name: "ØµØ±Ø§Ø­Ø©",
  version: "2.5.0",
  hasPermssion: 0,
  credits: "Ayman",
  description: "Ù„Ø¹Ø¨Ø© ØµØ±Ø§Ø­Ø© Ø°ÙƒÙŠØ© - ÙŠØ³Ø£Ù„Ùƒ ÙˆÙŠØ­Ù„Ù„ Ø¥Ø¬Ø§Ø¨ØªÙƒ",
  commandCategory: "ØªØ±ÙÙŠØ©",
  usages: "[ØµØ±Ø§Ø­Ø©]",
  cooldowns: 5,
  dependencies: {
    "axios": ""
  }
};

module.exports.handleReply = async function ({ api, event, handleReply, Users }) {
  const { threadID, messageID, body, senderID } = event;
  if (handleReply.author != senderID) return;

  const name = await Users.getNameUser(senderID);
  
  // ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ø¨Ø³ÙŠØ· Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©
  let reaction = "";
  if (body.length < 3) {
    reaction = "Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹.. Ù‡Ù„ ØªØ­Ø§ÙˆÙ„ Ø§Ù„Ù‡Ø±ÙˆØ¨ Ù…Ù† Ø§Ù„ØµØ±Ø§Ø­Ø©ØŸ ğŸ¤¨";
  } else if (body.includes("Ù„Ø§") || body.includes("Ù…Ø§ Ø§Ø¯Ø±ÙŠ")) {
    reaction = "Ù…Ù…Ù….. ØªØ¨Ø¯Ùˆ ØºØ§Ù…Ø¶Ø§Ù‹ Ø§Ù„ÙŠÙˆÙ…ØŒ Ù„ÙƒÙ†Ù†ÙŠ Ø³Ø£ØµØ¯Ù‚Ùƒ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø©. ğŸ™„";
  } else {
    reaction = "Ø£Ø­Ø³Ù†Øª! ØµØ±Ø§Ø­ØªÙƒ ØªØ¹Ø¬Ø¨Ù†ÙŠØŒ Ø£Ù†Øª Ø´Ø®Øµ Ø´Ø¬Ø§Ø¹ ÙˆÙˆØ§Ø¶Ø­. âœ¨";
  }

  api.unsendMessage(handleReply.messageID);
  
  const msg = `â—ˆ â”€â”€â”€ã€ ØªÙ€Ø­Ù€Ù„Ù€ÙŠÙ€Ù„ Ø§Ù„Ù€ØµÙ€Ø±Ø§Ø­Ø© âš–ï¸ ã€â”€â”€â”€ â—ˆ\n\nâ—¯ Ø§Ù„Ù€Ø¹Ù€Ø¶Ù€Ùˆ: ${name}\nâ—¯ Ø¥Ø¬Ù€Ø§Ø¨Ù€ØªÙ€Ùƒ: "${body}"\n\nâ—‰ ØªÙ€Ø¹Ù€Ù„Ù€ÙŠÙ€Ù‚ Ø§Ù„Ù€Ø¨Ù€ÙˆØª: ${reaction}\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nâ”‚â†â€º Ø¨Ù€Ø£ÙˆØ§Ù…Ù€Ø±: Ø§Ù„Ù€ØªÙ€ÙˆØ¨ Ø£ÙŠÙ€Ù…Ù€Ù† ğŸ‘‘`;
  
  return api.sendMessage(msg, threadID, messageID);
};

module.exports.run = async function({ api, event, Users }) {
  const { threadID, messageID, senderID } = event;

  const questions = [
    'Ù…Ø§ Ø£Ø³ÙˆØ£ Ø´ÙŠØ¡ ÙØ¹Ù„ØªÙ‡ ÙÙŠ Ø­ÙŠØ§ØªÙƒ ÙˆÙ„Ù… ÙŠØ¹Ø±ÙÙ‡ Ø£Ø­Ø¯ØŸ',
    'Ù…Ø§ Ø¢Ø®Ø± Ù‚Ø±Ø§Ø± Ø£Ø®Ø°ØªÙ‡ ÙˆÙ†Ø¯Ù…Øª Ø¹Ù„ÙŠÙ‡ Ø¨Ø´Ø¯Ø©ØŸ',
    'Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØµÙØ© Ø§Ù„ØªÙŠ ØªÙƒØ±Ù‡Ù‡Ø§ ÙÙŠ Ù†ÙØ³Ùƒ ÙˆØªØªÙ…Ù†Ù‰ ØªØºÙŠÙŠØ±Ù‡Ø§ØŸ',
    'Ù‡Ù„ Ø´Ø¹Ø±Øª ÙŠÙˆÙ…Ø§Ù‹ Ø¨Ø§Ù„Ø¸Ù„Ù… ØªØ¬Ø§Ù‡ Ø´Ø®Øµ ÙˆÙ„Ù… ØªØ¹ØªØ°Ø± Ù„Ù‡ØŸ',
    'Ù‡Ù„ Ø£Ø­Ø¨Ø¨Øª Ø´Ø®ØµØ§Ù‹ Ù…Ù† Ø·Ø±Ù ÙˆØ§Ø­Ø¯ Ù…Ù† Ù‚Ø¨Ù„ØŸ',
    'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø«Ù„ Ù„Ùƒ "Ø®Ø·Ø§Ù‹ Ø£Ø­Ù…Ø±" Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ø§ÙˆØ²Ù‡ØŸ',
    'Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ø´Ø®Øµ ÙŠØ®Ø·Ø± Ø¹Ù„Ù‰ Ø¨Ø§Ù„Ùƒ Ø¹Ù†Ø¯ ÙˆÙ‚ÙˆØ¹Ùƒ ÙÙŠ Ø¶ÙŠÙ‚ØŸ',
    'Ø¥Ø°Ø§ Ø®ÙŠØ±Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„Ø±Ø§Ø­Ø©ØŒ Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ø¨ÙƒÙ„ ØµØ±Ø§Ø­Ø©ØŸ',
    'Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ù…Ø¬Ù†ÙˆÙ†Ø© Ø§Ù„ØªÙŠ ØªØ±Ø§ÙˆØ¯Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŸ',
    'Ù‡Ù„ Ø´Ø¹Ø±Øª ÙŠÙˆÙ…Ø§Ù‹ Ø¨Ø§Ù„Ù†Ø¯Ù… Ù„Ø£Ù†Ùƒ Ø³Ø§Ø¹Ø¯Øª Ø´Ø®ØµØ§Ù‹ Ù„Ø§ ÙŠØ³ØªØ­Ù‚ØŸ',
    'Ø£ÙˆØµÙ Ø­ÙŠØ§ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ ÙƒÙ„Ù…Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·ØŸ',
    'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¹Ù„Ùƒ Ù„Ø§ ØªØ³ØªØ·ÙŠØ¹ Ø§Ù„Ù†ÙˆÙ… Ù„ÙŠÙ„Ø§Ù‹ØŸ',
    'Ù‡Ù„ ØªØ¹Ø±Ø¶Øª Ù„ØµØ¯Ù…Ø© Ø¹Ø§Ø·ÙÙŠØ© ØºÙŠØ±Øª Ù…Ø¬Ø±Ù‰ Ø­ÙŠØ§ØªÙƒØŸ',
    'Ù…Ø§Ø°Ø§ Ø³ØªÙØ¹Ù„ Ø¥Ø°Ø§ Ø£ØªÙŠØ­Øª Ù„Ùƒ ÙØ±ØµØ© Ù„Ù„Ù‡Ø¬Ø±Ø© Ø¯ÙˆÙ† Ø±Ø¬Ø¹Ø©ØŸ',
    'Ù‡Ù„ Ø£Ù†Øª Ø±Ø§Ø¶Ù Ø¹Ù† Ù†ÙØ³Ùƒ Ø¨Ù†Ø³Ø¨Ø© ÙƒÙ… Ù…Ù† 10ØŸ',
    'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙˆÙ‚Ù Ø§Ù„Ø°ÙŠ Ø´Ø¹Ø±Øª ÙÙŠÙ‡ Ø£Ù†Ùƒ Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹ØŸ',
    'Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªÙˆØ¯ Ø£Ù† ØªØ±Ø§Ù‡ ÙŠØ¨ÙƒÙŠ Ø£Ù…Ø§Ù…Ùƒ ÙˆÙ„Ù…Ø§Ø°Ø§ØŸ',
    'Ù„Ùˆ Ø¹Ø§Ø¯ Ø¨Ùƒ Ø§Ù„Ø²Ù…Ù†ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù† ØªÙØ¹Ù„Ù‡ Ø£Ø¨Ø¯Ø§Ù‹ØŸ',
    'Ù‡Ù„ ØªØªØµÙ†Ø¹ Ø§Ù„Ù‚ÙˆØ© Ø¨ÙŠÙ†Ù…Ø§ Ø£Ù†Øª Ù…ÙƒØ³ÙˆØ± Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ØŸ',
    'Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙŠ ØªÙˆØ¯ Ø§Ù„ØªØ®Ù„Øµ Ù…Ù†Ù‡Ø§ ÙÙˆØ±Ø§Ù‹ØŸ'
  ];

  const question = questions[Math.floor(Math.random() * questions.length)];
  const name = await Users.getNameUser(senderID);

  const msg = `â—ˆ â”€â”€â”€ã€ ÙƒÙ€Ø±Ø³Ù€ÙŠ Ø§Ù„Ù€ØµÙ€Ø±Ø§Ø­Ø© âš”ï¸ ã€â”€â”€â”€ â—ˆ\n\nâ—¯ ÙŠÙ€Ø§ [ ${name} ]..\nâ—‰ Ø³Ù€Ø¤Ø§Ù„Ù€Ùƒ Ù‡Ù€Ùˆ:\n\n" ${question} "\n\nğŸ‘ˆ Ø±ÙØ¯ Ø¹Ù€Ù„Ù€Ù‰ Ù‡Ù€Ø°Ù‡ Ø§Ù„Ù€Ø±Ø³Ù€Ø§Ù„Ù€Ø© Ø¨Ù€Ø¥Ø¬Ù€Ø§Ø¨Ù€ØªÙ€Ùƒ Ø§Ù„Ù€ØµÙ€Ø±ÙŠÙ€Ø­Ù€Ø©..\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nâ”‚â†â€º Ø¨Ù€Ø£ÙˆØ§Ù…Ù€Ø±: Ø§Ù„Ù€ØªÙ€ÙˆØ¨ Ø£ÙŠÙ€Ù…Ù€Ù† ğŸ‘‘`;

  return api.sendMessage(msg, threadID, (error, info) => {
    global.client.handleReply.push({
      name: this.config.name,
      messageID: info.messageID,
      author: senderID,
      question: question
    });
  }, messageID);
};
